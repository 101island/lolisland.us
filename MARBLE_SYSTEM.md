### 1. 系统模块化

将原本集中在 `MainView.astro` 中的庞大逻辑拆分为多个独立的、可复用的 TypeScript 模块：

- `marbleSystem.ts`: 核心管理器，整合所有子系统，提供统一的 API。
- `marbleFactory.ts`: 弹珠工厂，负责弹珠的创建、DOM 生成和异步加载。
- `marblePhysics.ts`: 物理引擎，处理弹珠的运动、碰撞和边界检测。
- `mouseInteraction.ts`: 鼠标交互系统，实现对弹珠的吸引和排斥力场。
- `animationLoop.ts`: 独立的动画循环，采用固定时间步长以保证物理模拟的稳定性。

### 2. 配置与数据分离

- 新增 `marbleConfig.ts`，用于集中管理所有与弹珠相关的配置（尺寸、速度、物理参数、动画效果等）。
- 新增 `users.ts`，将用户数据从组件中分离，便于维护。

### 3. 功能增强与优化

- **鼠标交互**：
  - 按住 `Shift` 键切换为吸引模式。
  - 力场逻辑为仅在鼠标移动时激活，悬停在弹珠上时禁用力场，方便用户点击。
  - 力场强度采用对数衰减曲线。
- **物理引擎**：
  - 引入了阻尼（`damping`）、恢复系数（`restitution`）和墙壁反弹系数（`wallBounce`）。
  - 增加了最小和最大速度限制，防止弹珠完全静止或速度过快。
- **弹珠创建**：
  - `marbleFactory` 使用 `Promise.allSettled` 批量创建弹珠，部分头像加载失败不会中断整个过程。
  - 弹珠尺寸实现了响应式计算。
- **动画循环**：
  - `animationLoop` 采用固定时间步长（Fixed Timestep）和累加器，解决了因帧率波动导致的物理模拟不一致问题。
  - 增加了最大帧时间（`maxFrameTime`）限制，防止浏览器标签页在后台长时间挂起后，单次更新时间过长导致页面卡死。

### 4. 代码结构a

- 在 `index.ts` 中统一导出所有模块和类型，方便外部调用。
- `MainView.astro` 的 `<script>` 部分被大幅简化，现在只负责初始化 `MarbleSystem` 并加载数据。
